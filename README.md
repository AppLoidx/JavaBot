# JavaBot
### Цели проекта
Основной целью данного проекта является создание микросервиса
, занимающейся рутинными задачами и предоставляющий легкодоступный интерфейс для пользователя.

### Java xCore
Центральную часть всей работы составляет модуль, работающий через взаимодействие с помощью
команд.
Это позволяет создавать различные прикладные программы для работы с этим модулем, дальше
именуемым как [Java xCore](https://github.com/AppLoidx/Java-xCore-Commander).

### Базовый список команд
* <b>Queue</b> – создание, присоединение к очереди.
* <b>Note</b> – Общие объявления
* <b>Schedule</b> – расписание пар по группам и аудиториям, в том числе для преподавателей
* <b>Reg</b> – регистрация в базу данных
* <b>Help</b> - мануал по командам
* <b>Spam</b> - массовая рассылка по группам.
* <b>timed-command</b> - настройка команды по расписанию.
* <b>session</b> - смена режима.
* <b>quest</b> - вопросы по разным темам.

### Синтаксис команд
Java xCore предоставляет интерактивный интерфейс, то есть обрабатвает вводимые пользователем команды, как обычная командная оболочка Shell в средах UNIX-подобных систем.

Но интерпретатор здесь - это скрипты (команды), написанные на языке Java, расширяющие класс Command (подробнее см. в [документации](https://github.com/AppLoidx/JavaBot/blob/master/JavaBot%20Documentation.pdf)). Таким образом, благодаря модулю Java xCore, этот проект предоставляет пользователям создавать свои команды для этой системы.

В интерпретации команды можно выделить несколько основных шагов:
* Считывание ввода
* Выборка команды
* Инициализация команды
* Отправка ответа (результат инициализации)

Чтобы происходила правильная выборка команды, был выбран такой синтаксис: <br>
<code> <b>ИМЯ_КОМАНДЫ -[БУКВЕННЫЕ_КЛЮЧИ] --[СЛОВЕСНЫЕ_КЛЮЧИ] [ЗНАЧЕНИЕ_КЛЮЧА]</b></code>

#### Пример
* <code>note -a user's note</code>
* <code>note --append new user's note</code>
* <code>note -s</code>

### Команды

#### Help
Выводит краткое описание и список команд при вызове пустой команды "help"<br>
Чтобы получить расширенную длкументацию к команде, необходимо ввести имя этой команды, разделенный пробелом:<br>
<code>help note</code><br>
<code>help reg note</code>

#### Queue
Команда <code>queue</code> представляет собой команду для создания очереди.

Среди них:
* <b>Simple Queue</b> - простая очередь с возможностью записи и обмена мест
* <b>Fixed Queue</b> - фиксированная местом очередь (места ограничены)
* <b>Dated Queue</b> - фиксированная временем очередь (имеет временные рамки)
* <b>Consistent Queue</b> - двойная очередь (вторая очередь начинается после первого)
* <b>Shuffle Queue</b> - очередь с возможностью тасовки

#### Note
Команда для размещения объявлений. Дата и автор объявления идентифицируются автоматически, что позволяет избегать "фейковых" сообщений.

#### Reg
Регистрация пользователя в базу данных. Достаточно лишь написать команду Reg и данные автоматически заносятся в базу данных, кроме группы. Для того, чтобы указать и группу - необходимо выполнить команду с ключом -g, указав после него номер группы.
<br><code>reg -g P3112    // пример</code><br>
Также доступна регистрация для преподавателей. Для этого, вместо группы, необходимо указать номер ИСУ:<br>
<br><code>reg -g 143262</code><br>

#### Schedule
Получение расписания по номеру группы или аудитории. Номер группы определяется автоматически, если он был указан при регистрации. В противном случае, команда попросит зарегестрироваться.

Чтобы получить расписание по номеру группы, необходимо лишь написать schedule. Также возможны использования ключей для: полного расписания, расписания по четным дням и так далее.

Чтобы получить расписание по аудитории, необходимо использовать ключ -r со значением номера аудитории. Также возможны использования ключей.

#### timed-command
Данная команда предназначена для выполнения команд от вашего имени в заданное время. Например, если добавите команду schedule на 08:00, то в это время выполнится эта команда и вы получите сообщение от бота. Чтобы добавить команду, необходимо указать время и саму команду:
* время -- задать время в формате HH:mm
* -c % команда % -- задать команду внутри спецсимволов %


Дополнительные ключи для редактирования:
* -s -- показать все добавленные команды
* -d номер_команды -- удалить команду

## Session
Команда для начала новой сессии с определенным режимом. Это нужно для перенаправления ввода пользователя в определенные команды. Учтите, что в данный момент команды, которые есть у бота и, те которые находятся внутри мода - разные. Иными словами, находясь внутри какого-либо мода вы не сможете воспользоваться командой бота.

Команда выхода предусмотрена в самом режиме.

Сессия работает в двух режимах:
-Вывода мануала
-Запуск сессии

Чтобы получить список доступных сессий введите:

`session help`

Чтобы получить расширенный мануал по режиму:

`session help имя_сессии1 имя_сессии2`

Чтобы перейти к работе с сессией введите команду:

`session имя_сессии`

Данная команда еще разрабатывается и возможно изменения в синтаксисе. Следите за мануалом.


Подробнее в [документации](https://github.com/AppLoidx/JavaBot/blob/master/JavaBot%20Documentation.pdf)

### Использованные термины из второго семестра
* Коллекции
* Generics
* java.io.File
* JavaDoc
* Сериализация
* Многопоточность
* Классы для представления даты и времени
* JDBC
* Шаблоны проектирования

#### Термины не входящие в учебный план:
* Конфигурация приложения к развертыванию в облаке
* Деплои приложения в облаке
* Использвание сторонних SDK
* Скраппинг сайтов
* Использование PostgreSQL
* Сборка проекта через maven
* Добавление локальных библиотек в maven проект
* Создание простого RESTful сервера
* Создание REST-запросов

#### [Документация на русском](https://github.com/AppLoidx/JavaBot/blob/master/JavaBot%20Documentation.pdf)
#### [Wiki](https://github.com/AppLoidx/JavaBot/wiki)

